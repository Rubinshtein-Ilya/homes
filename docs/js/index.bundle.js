!function(){"use strict";var e=function(e,t,o,r,n){const c=document.querySelectorAll(t),l=document.querySelector(o);let s,d=0;function a(){s=document.querySelector(e).offsetWidth,l.style.width=s*c.length+"px",c.forEach((e=>{e.style.width=s+"px",e.style.height="auto"})),i()}function i(){l.style.transform="translate(-"+d*s+"px)"}a(),window.addEventListener("resize",a),document.querySelector(n).addEventListener("click",(function(e){e.preventDefault(),d++,d>=c.length&&(d=0),i()})),document.querySelector(r).addEventListener("click",(function(e){e.preventDefault(),d--,d<0&&(d=c.length-1),i()}))};function t(e,t){const o=document.querySelector(e);o.classList.add("hide"),o.classList.remove("show"),document.querySelector(t).classList.remove("show"),document.querySelector(t).classList.add("hide"),document.body.style.overflow=""}function o(e,t){const o=document.querySelector(e);o.classList.add("show"),o.classList.remove("hide"),document.querySelector(t).classList.remove("hide"),document.querySelector(t).classList.add("show"),document.body.style.overflow="hidden"}var r=function(e,r,n){document.querySelector(e).addEventListener("click",(e=>{e.preventDefault();const c=document.querySelector(r);o(r,n),document.addEventListener("keydown",(e=>{"Escape"===e.code&&c.classList.contains("show")&&t(r,n)})),c.addEventListener("click",(e=>{e.target!==c&&""!=e.target.getAttribute("data-close")||t(r,n)})),document.querySelector(n).addEventListener("click",(e=>t(r,n)))}))},n=function(e){const t=document.querySelectorAll(e);t.forEach((e=>{e.addEventListener("change",(function(){this.checked&&t.forEach((e=>{e!==this&&(e.checked=!1)}))}))}))};window.addEventListener("DOMContentLoaded",(()=>{var c;e(".slider",".choose-slide",".slider-line",".choose-btns__prev",".choose-btns__next"),e(".houses-right__slider",".houses-right__slide",".houses-right__slider-line",".houses__slider-btns__prev",".houses__slider-btns__next"),function(e,t,o,r,n){const c=document.querySelectorAll(t),l=document.querySelector(o);let s,d=0;function a(){s=document.querySelector(e).offsetWidth,l.style.width=s*c.length+"px",c.forEach((e=>{e.style.width=s+"px",e.style.height="auto"})),i()}function i(){l.style.transform="translate(-"+d*s+"px)"}function u(){document.querySelector(".ellipse-link-reverse").style.display=0==d?"none":"inline-flex",d==c.length-1?document.querySelector(".preliminary-slider-next").style.display="none":document.querySelector(".preliminary-slider-next").style.display="inline-flex"}u(),a(),window.addEventListener("resize",a),document.querySelector(n).addEventListener("click",(function(e){e.preventDefault(),d++,d>=c.length&&(d=0),i(),u()})),document.querySelector(r).addEventListener("click",(function(e){e.preventDefault(),d--,d<0&&(d=c.length-1),i(),u()}))}(".preliminary-slider",".preliminary-slider__slide",".preliminary-slider .preliminary-slider-line",".preliminary-slider-prev",".preliminary-slider-next"),e(".reviews__slider",".reviews__slide",".reviews__slider-line",".reviews__prev",".reviews__next"),r(".tel-block__req-call",".call",".modal-overlay"),r(".descr__coasts",".coasts",".modal-overlay"),document.querySelectorAll(".choose-slide").forEach((e=>{e.querySelector(".choose-link").addEventListener("click",(r=>{r.preventDefault();const n=e.querySelector(".choose-project-num").textContent,c=document.querySelector(".information");c.querySelector(".project-num").textContent=n,o(".information",".modal-overlay"),document.addEventListener("keydown",(e=>{"Escape"===e.code&&c.classList.contains("show")&&t(".information",".modal-overlay")})),c.addEventListener("click",(e=>{e.target!==c&&""!=e.target.getAttribute("data-close")||t(".information",".modal-overlay")})),document.querySelector(".modal-overlay").addEventListener("click",(e=>t(".information",".modal-overlay")))}))})),n(".check1"),n(".check2"),n(".check3"),n(".check4"),n(".check5"),n(".check6"),c=".form",document.querySelectorAll(c).forEach((e=>{var r;(r=e).addEventListener("submit",(e=>{e.preventDefault(),document.querySelectorAll(".modal").forEach((e=>{e.classList.add("hide"),e.classList.remove("show"),document.querySelector(".modal-overlay").classList.remove("show"),document.querySelector(".modal-overlay").classList.add("hide"),document.body.style.overflow=""}));const n=new FormData(r),c=document.querySelector(".succes-modal");let l=JSON.stringify(Object.fromEntries(n.entries()));console.log(l),(async(e,t)=>{let o=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:t});return await o.json()})("sendmail.php",l).then((e=>{console.log(e),o(".succes-modal",".modal-overlay"),document.addEventListener("keydown",(e=>{"Escape"===e.code&&c.classList.contains("show")&&t(".succes-modal",".modal-overlay")})),c.addEventListener("click",(e=>{e.target!==c&&""!=e.target.getAttribute("data-close")||t(".succes-modal",".modal-overlay")})),document.querySelector(".modal-overlay").addEventListener("click",(e=>t(".succes-modal",".modal-overlay")))})).catch((e=>{console.log(e)})).finally((()=>{r.reset()}))}))})),document.querySelector(".preliminary-form").addEventListener("submit",(function(e){e.preventDefault();const r=document.querySelectorAll(".preliminary-slider__chekbox:checked"),n=Array.from(r).map((e=>e.value)),c=new FormData;c.append("selectedCheckboxes",JSON.stringify(n));const l=new FormData(e.target);for(const[e,t]of l.entries())c.append(e,t);let s=JSON.stringify(Object.fromEntries(c.entries()));console.log(s);const d=document.querySelector(".succes-modal");(async(e,t)=>{let o=await fetch("checkbox.php",{method:"POST",headers:{"Content-Type":"application/json"},body:t});return await o.json()})(0,s).then((e=>{console.log(e),o(".succes-modal",".modal-overlay"),document.addEventListener("keydown",(e=>{"Escape"===e.code&&d.classList.contains("show")&&t(".succes-modal",".modal-overlay")})),d.addEventListener("click",(e=>{e.target!==d&&""!=e.target.getAttribute("data-close")||t(".succes-modal",".modal-overlay")})),document.querySelector(".modal-overlay").addEventListener("click",(e=>t(".succes-modal",".modal-overlay")))})).catch((e=>{console.error("There has been a problem with your fetch operation:",e)})).finally((()=>{document.querySelector(".preliminary-form").reset()}))})),document.querySelectorAll(".houses-right__img").forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("zoomed")}))}))}))}();